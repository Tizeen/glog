<!DOCTYPE html>
<html lang="zh-cn"><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   <meta name="description" content="编辑 &lt;mark style=&quot;background-color:#d9d9d6&quot; class=&quot;has-inline-color&quot;&gt;/etc/systemd/system/docker.service.d/http-proxy.conf&lt;/mark&gt; ，目录和文件没有就新建一下，然后配置代理内容如下：

  [Service]
Environment=&#34;HTTP_PROXY=http://xxx.com:80&#34;
Environment=&#34;HTTPS_PROXY=https://xxx.com:443&#34;
Environment=&#34;NO_PROXY=xxx-registry.com,*.example.com&#34;

重启 Docker

  # 重启Docker
sudo systemctl daemon-reload
sudo systemctl restart docker
检查是否正确配置
sudo systemctl show &ndash;property=Environment docker
确认结果
sudo docker info
">  

  <title>
    
      如何配置Docker使用代理拉镜像
    
  </title>


  <link rel="shortcut icon" type="image/x-icon" href="/" />
  
  
  
  <link rel="stylesheet" href="/css/main.900100e9dbee2d56c58fac8bb717037cae7e26a9c36c29d2ff587bdd65f0cbbe510b41d81a3bb234919cdfdc7550d786b2fab70c8fc507772d732fe097106d12.css" integrity="sha512-kAEA6dvuLVbFj6yLtxcDfK5&#43;JqnDbCnS/1h73WXwy75RC0HYGjuyNJGc39x1UNeGsvq3DI/FB3ctcy/glxBtEg==" />
  
</head>
<body a="auto">
        <main class="page-content" aria-label="Content">
            <div class="w">
<a href="/">..</a>


<article>
    <p class="post-meta">
        <time datetime="2024-03-06 11:33:32 &#43;0000 &#43;0000">
            2024-03-06
        </time>
    </p>

    <h1>如何配置Docker使用代理拉镜像</h1>

    

    <p>编辑 <code>&lt;mark style=&quot;background-color:#d9d9d6&quot; class=&quot;has-inline-color&quot;&gt;/etc/systemd/system/docker.service.d/http-proxy.conf&lt;/mark&gt;</code> ，目录和文件没有就新建一下，然后配置代理内容如下：</p>
<div class="hcb_wrap">
  <pre class="prism line-numbers lang-bash" data-lang="Bash"><code>[Service]
Environment="HTTP_PROXY=http://xxx.com:80"
Environment="HTTPS_PROXY=https://xxx.com:443"
Environment="NO_PROXY=xxx-registry.com,*.example.com"</code></pre>
</div>
<p>重启 Docker</p>
<div class="hcb_wrap">
  <pre class="prism line-numbers lang-bash" data-lang="Bash"><code># 重启Docker
sudo systemctl daemon-reload
sudo systemctl restart docker
<h1 id="检查是否正确配置">检查是否正确配置</h1>
<p>sudo systemctl show &ndash;property=Environment docker</p>
<h1 id="确认结果">确认结果</h1>
<p>sudo docker info</code></pre></p>
</div>
</article>

                

            </div>
        </main>
    </body>
</html>
